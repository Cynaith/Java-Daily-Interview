## 通信转发程序: 代理、网关、隧道
> HTTP通信时，除客户端和服务器以外，还有一些用于通信数据转发的应用程序，例如代理、网关和隧道。他们可以配合服务器工作。

- 代理  
  代理是一种有转发功能的应用程序，它扮演了位于服务器和客户 端“中间人”的角色，
  接收由客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。
 
  代理服务器的基本行为就是接收客户端发送的请求后，转发给其他服务器。  
  每次通过代理服务器转发请求时，会追加写入Via首部信息。例如请求经过proxy1、proxy2:`Via:proxy2,proxy1`。

    - **使用理由** :利用缓存技术减少网络带宽的流量、组织内部针对特定网络的访问控制、获取访问日志。

    - **使用方法** :一种是是否使用缓存，另一种是是否会修改报文。

    - **缓存代理** :代理转发响应时，缓存代理(Caching Proxy)会预先将资源的副本 (缓存)保存在代理服务器上。
    当代理再次收到相同的资源请求时，就不用从源服务器那里获取资源(会向源服务器确认缓存资源的有效性)，而是将之前缓存的资源作为响应返回。

    - **透明代理** :转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理 (Transparent Proxy)。反之，对报文内容进行加工的代理被称为非透明代理。
  
- 网关   
  网关可以由HTTP请求转化为其他协议通信。利用网关可以加密客户端与网关之间的通信线路。

  例如，网关可以连接数据库，使用SQL语句查询数据。另外在Web购物网站上进行信用卡结算时，网关可以和信用卡结算系统联动。
- 隧道  
  隧道可按要求建立起一条与其他服务器的通信线路，届时使用 SSL 等加密手段进行通信。隧道的目的是确保客户端能与服务器进行安全的通信。
  请求保持原样中转给之后的服务器。隧道会在通信双方断开连接时结束。

## 客户端的缓存
缓存不仅可以存在于缓存服务器内，还可以存在客户端浏览器中。以 Internet Explorer 程序为例，把客户端缓存称为临时网络文件 (Temporary Internet File)。

和缓存服务器相同的一点是，当判定缓存过期后，会向源服务 器确认资源的有效性。若判断浏览器缓存失效，浏览器会再次请求新 资源。